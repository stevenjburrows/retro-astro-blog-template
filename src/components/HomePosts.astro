---
import Post from "../components/Post.astro";

import { getAllPostsReduced } from "../lib/client";

const data = await getAllPostsReduced(3);
const allPosts = data.publication.posts.edges;
---

<content>
  <ul class="posts-list">
    {
      allPosts.map((postData) => (
        <Post
          description={postData.node.brief}
          date={postData.node.publishedAt}
          slug={postData.node.slug}
          title={postData.node.title}
          tags={postData.node.tags}
          readTime={postData.node.readTimeInMinutes}
        />
      ))
    }
  </ul>
</content>
